{"ast":null,"code":"export default class Anime {\n  constructor(selector, option) {\n    this.selector = selector;\n    this.option = option;\n    this.startTime = performance.now();\n    this.currentValue = null;\n    if (this.option.prop === 'scroll') this.currentValue = this.selector.scrollY;else this.currentValue = parseFloat(getComputedStyle(this.selector)[this.option.prop]);\n    this.isString = typeof this.option.value;\n\n    if (this.isString === 'string') {\n      const parentW = parseInt(getComputedStyle(this.selector.parentElement).width);\n      const parentH = parseInt(getComputedStyle(this.selector.parentElement).height);\n      const x = ['margin-left', 'margin-right', 'left', 'right', 'width'];\n      const y = ['margin-top', 'margin-bottom', 'top', 'bottom', 'height'];\n\n      for (let condition of x) {\n        if (this.option.prop == condition) this.currentValue = this.currentValue / parentW * 100;\n      }\n\n      for (let condition of y) {\n        if (this.option.prop == condition) this.currentValue = this.currentValue / parentH * 100;\n      }\n\n      this.option.value = parseFloat(this.option.value);\n    }\n\n    if (this.option.value === this.currentValue) return;\n    requestAnimationFrame(time => this.run(time));\n  }\n\n  run(time) {\n    let timelast = time - this.startTime;\n    let progress = timelast / this.option.duration;\n    if (progress < 0) progress = 0;\n    if (progress > 1) progress = 1;\n\n    if (progress < 1) {\n      requestAnimationFrame(time => this.run(time));\n    } else {\n      if (this.option.callback) {\n        setTimeout(() => {\n          this.option.callback();\n        }, 0);\n      }\n    }\n\n    let result = this.currentValue + (this.option.value - this.currentValue) * progress;\n    if (this.isString === 'string') this.selector.style[this.option.prop] = result + '%';else if (this.option.prop === 'opacity') this.selector.style[this.option.prop] = result;else if (this.option.prop === 'scroll') window.scroll(0, result);else this.selector.style[this.option.prop] = result + 'px';\n  }\n\n}","map":{"version":3,"names":["Anime","constructor","selector","option","startTime","performance","now","currentValue","prop","scrollY","parseFloat","getComputedStyle","isString","value","parentW","parseInt","parentElement","width","parentH","height","x","y","condition","requestAnimationFrame","time","run","timelast","progress","duration","callback","setTimeout","result","style","window","scroll"],"sources":["C:/Users/임주연/Desktop/react_pfpf/src/asset/anim.js"],"sourcesContent":["export default class Anime {\n\tconstructor(selector, option) {\n\t\tthis.selector = selector;\n\t\tthis.option = option;\n\t\tthis.startTime = performance.now();\n\t\tthis.currentValue = null;\n\n\t\tif (this.option.prop === 'scroll')\n\t\t\tthis.currentValue = this.selector.scrollY;\n\t\telse\n\t\t\tthis.currentValue = parseFloat(\n\t\t\t\tgetComputedStyle(this.selector)[this.option.prop]\n\t\t\t);\n\n\t\tthis.isString = typeof this.option.value;\n\n\t\tif (this.isString === 'string') {\n\t\t\tconst parentW = parseInt(\n\t\t\t\tgetComputedStyle(this.selector.parentElement).width\n\t\t\t);\n\t\t\tconst parentH = parseInt(\n\t\t\t\tgetComputedStyle(this.selector.parentElement).height\n\t\t\t);\n\t\t\tconst x = ['margin-left', 'margin-right', 'left', 'right', 'width'];\n\t\t\tconst y = ['margin-top', 'margin-bottom', 'top', 'bottom', 'height'];\n\n\t\t\tfor (let condition of x) {\n\t\t\t\tif (this.option.prop == condition)\n\t\t\t\t\tthis.currentValue = (this.currentValue / parentW) * 100;\n\t\t\t}\n\t\t\tfor (let condition of y) {\n\t\t\t\tif (this.option.prop == condition)\n\t\t\t\t\tthis.currentValue = (this.currentValue / parentH) * 100;\n\t\t\t}\n\t\t\tthis.option.value = parseFloat(this.option.value);\n\t\t}\n\n\t\tif (this.option.value === this.currentValue) return;\n\t\trequestAnimationFrame((time) => this.run(time));\n\t}\n\n\trun(time) {\n\t\tlet timelast = time - this.startTime;\n\t\tlet progress = timelast / this.option.duration;\n\n\t\tif (progress < 0) progress = 0;\n\t\tif (progress > 1) progress = 1;\n\t\tif (progress < 1) {\n\t\t\trequestAnimationFrame((time) => this.run(time));\n\t\t} else {\n\t\t\tif (this.option.callback) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.option.callback();\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\t\tlet result =\n\t\t\tthis.currentValue + (this.option.value - this.currentValue) * progress;\n\n\t\tif (this.isString === 'string')\n\t\t\tthis.selector.style[this.option.prop] = result + '%';\n\t\telse if (this.option.prop === 'opacity')\n\t\t\tthis.selector.style[this.option.prop] = result;\n\t\telse if (this.option.prop === 'scroll') window.scroll(0, result);\n\t\telse this.selector.style[this.option.prop] = result + 'px';\n\t}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}